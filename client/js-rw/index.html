<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Cubeia Poker</title>

    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="stylesheet" type="text/css" href="css/lobby.css"/>
    <link rel="stylesheet" type="text/css" href="css/table.css"/>
    <link rel="stylesheet" type="text/css" href="css/seat.css"/>
    <link rel="stylesheet" type="text/css" href="css/table-10.css"/>
    <link rel="stylesheet" type="text/css" href="css/CircularProgressBar.css"/>
    <link rel="stylesheet" type="text/css" href="css/slider.css"/>
    <link rel="stylesheet" type="text/css" href="css/action-buttons.css"/>
    <link rel="stylesheet" type="text/css" href="css/avatars.css"/>

    <!--ipad home fiz -->
    <link type="text/css" rel="stylesheet" media="only screen and (min-device-width: 768px) and (max-device-width: 1024px)" href="css/ipad.css" />

    <script type="text/javascript" src="js/lib/classjs.js"></script>
    <script type="text/javascript" src="js/lib/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery-ui-1.8.21.custom.min.js"></script>

    <script type="text/javascript" src="js/lib/mustache.js"></script>
    <script type="text/javascript" src="js/lib/jquery.jqGrid.min.js"></script>
    <script type="text/javascript" src="js/lib/json2.js"></script>
    <script type="text/javascript"  src="js/lib/matrix.js"></script>
    <script type="text/javascript"  src="js/lib/firmin.js"></script>

    <script type="text/javascript" src="js/base/ui/CircularProgressBar.js"></script>

    <script src="js/lib/cubeia/firebase-js-api-1.8.0-CE-javascript.js" type="text/javascript"></script>
    <script src="js/lib/cubeia/firebase-protocol-1.8.0-CE-javascript.js" type="text/javascript"></script>
    <script src="js/lib/poker-protocol-1.0-SNAPSHOT.js" type="text/javascript"></script>

    <script src="js/base/Utils.js" type="text/javascript"></script>

    <script type="text/javascript" src="js/base/MyPlayer.js"></script>
    <script type="text/javascript" src="js/base/PlayerStatus.js"></script>

    <script src="js/base/communication/ProtocolHandler.js" type="text/javascript"></script>
    <script src="js/base/communication/AbstractConnectorHandler.js" type="text/javascript"></script>
    <script src="js/base/communication/TableComHandler.js" type="text/javascript"></script>
    <script src="js/base/communication/CommunicationHandler.js" type="text/javascript"></script>

    <script type="text/javascript" src="js/base/ui/BetSlider.js"></script>
    <script type="text/javascript" src="js/base/Action.js"></script>
    <script type="text/javascript" src="js/base/ui/MyActionsManager.js"></script>
    <script type="text/javascript" src="js/base/ui/LobbyLayoutManager.js"></script>
    <script type="text/javascript" src="js/base/listeners/TableListener.js"></script>
    <script type="text/javascript" src="js/base/Player.js"></script>
    <script type="text/javascript" src="js/base/PlayerManager.js"></script>
    <script type="text/javascript" src="js/base/Table.js"></script>
    <script type="text/javascript" src="js/base/TableManager.js"></script>
    <script type="text/javascript" src="js/base/ui/TableLayoutManager.js"></script>
    <script type="text/javascript" src="js/base/ui/TemplateManager.js"></script>
    <script type="text/javascript" src="js/base/ui/Seat.js"></script>
    <script type="text/javascript" src="js/base/ui/MyPlayerSeat.js"></script>
    <script type="text/javascript" src="js/base/ui/Card.js"></script>
    <script type="text/javascript" src="js/base/ui/CommunityCard.js"></script>
    <script type="text/javascript" src="js/base/Pot.js"></script>
    <script type="text/javascript" src="js/base/Hand.js"></script>
    <script type="text/javascript" src="js/base/ui/describe.js"></script>


    <script type="text/javascript">
        var comHandler = null;
        $(document).ready(function(){
            $(".describe").describe();

            var webSocketUrl = "localhost";
            //var webSocketUrl = "192.168.1.110";
            var webSocketPort = 9191;
            var tableComManager = null;
            //handles the lobby UI

            //wraps Firebase communication
            comHandler = new Poker.CommunicationHandler(webSocketUrl, webSocketPort);

            $("#loginButton").click(function(e){
                console.log("logging in");
                if ($('#user').val() != "username" && $('#pwd').val() != "Password") {
                    var usr = $('#user').val();
                    var pwd = $('#pwd').val();
                    comHandler.doLogin(usr,pwd);

                }
            });

            setFontSize();
        });

        $(window).resize(function(){
           setFontSize();
        });
        var baseWidth = 1024;
        function setFontSize() {
            var targetFontSize =  Math.round(90*$(window).width() / baseWidth) ;
            $("body").css({fontSize : targetFontSize+"%"});
        }
    </script>

</head>
<body>
    <div id="boxes" class="lobby-container">
        <div id="lobby" class="lobby-list" style="display:none;">
            <div class="logo-container"><img src="images/lobby/logo.png"/></div>
            <table id="list4"></table>
        </div>
        <div id="dialog1" class="login-dialog">
            <div class="logo-container"><img src="images/lobby/logo.png"/></div>
            <div class="login-container">
                <div class="login-input-container">
                    <input name="user" class="describe" id="user" type="text" title="Username" value="" />
                    <input name="pwd" class="describe" id="pwd" type="password" title="Password" value=""/>
                </div>
                <div id="loginButton" class="login-button">
                    <span>login</span>
                </div>
            </div>
            <div class="status-label">Status: <span id="connectStatus"></span></div>

        </div>

    </div>

    <div id="tableContainer" style="display:none;" class="table-container">

        <div id="seatContainer" class="default-table table-10">
            <div class="seat" id="seat0">

            </div>
            <div class="seat" id="seat1">

            </div>
            <div class="seat" id="seat2">

            </div>
            <div class="seat" id="seat3">

            </div>
            <div class="seat" id="seat4">

            </div>
            <div class="seat" id="seat5">

            </div>
            <div class="seat" id="seat6">

            </div>
            <div class="seat" id="seat7">

            </div>
            <div class="seat" id="seat8">

            </div>
            <div class="seat" id="seat9">

            </div>
            <div class="my-player-seat" id="myPlayerSeat">

            </div>
            <div id="communityCards" class="community-cards">

            </div>
            <div id="mainPotContainer" class="main-pot">

            </div>
        </div>
        <div id="myPlayerContainer" class="bottom-bar">
            <div class="action-button" id="actionSitOut" style="display: none;">
                <span>Sit-out</span>
            </div>
            <div class="own-player" id="myPlayer" style="display:none;">
                <div class="name" id="myPlayerName"></div>
                <div class="balance" id="myPlayerBalance"></div>
            </div>
            <div id="circularProgressBar" class="circular-progress-bar" style="width:100px; height:100px;">

            </div>
            <div id="userActActions" class="user-actions">
                <div class="action-button" id="actionFold" style="display: none;">
                    <span>Fold</span>
                </div>
                <div class="action-button" id="actionCall" style="display: none;">
                    <span class="amount"></span>
                    <span>Call</span>
                </div>
                <div class="action-button" id="actionCheck" style="display: none;">
                    <span>Check</span>
                </div>
                <div class="action-button" id="actionRaise" style="display: none;">
                    <span class="amount"></span>
                    <span>Raise</span>
                </div>
                <div class="action-button" id="actionBet" style="display: none;">
                    <span class="amount"></span>
                    <span>Bet</span>
                </div>
                <div class="action-button" id="actionCancelBet" style="display:none;">
                    <span>Cancel</span>
                </div>
                <div class="action-button" id="doActionBet" style="display:none;">
                    <span class="slider-value amount"></span>
                    <span>Bet</span>
                </div>

                <div class="action-button" id="doActionRaise" style="display:none;">
                    <span class="slider-value amount"></span>
                    <span>Raise</span>
                </div>
                <div class="action-button" id="actionJoin" style="display: none;">
                    <span>Join</span>
                </div>
                <div class="action-button" id="actionLeave" style="display: none;">
                    <span>Leave</span>
                </div>
                <div class="action-button" id="actionSitIn" style="display: none;">
                    <span>Sit-in</span>
                </div>

            </div>
        </div>


    </div>

    <div id="emptySeatTemplate" style="display: none;">
        <div class="avatar-base">
            <div class="open-seat">Open Seat</div>
        </div>
    </div>
    <div id="seatTemplate" style="display: none;">
        <div class="player-name">
            {{name}}
        </div>
        <div class="avatar-base">

        </div>
        <div class="progress-bar">

        </div>
        <div class="avatar">

        </div>
        <div class="cards-container">
            <div class="player-card-container">
                <img src="images/cards/back.svg" class="player-card"/>
            </div>

        </div>
        <div class="action-text">
            Small Blind
        </div>
        <div class="seat-balance balance">

        </div>
        <div class="action-amount balance">

        </div>
        <div class="hand-strength">

        </div>

    </div>

    <div id="playerCardTemplate" style="display: none;">
        <div id="playerCard-{{domId}}" class="player-card-container">
            <img src="images/cards/{{cardString}}.svg" class="player-card"/>
        </div>
    </div>
    <div id="communityCardTemplate" style="display: none;">
        <div id="communityCard-{{domId}}" class="community-card-container">
            <img src="images/cards/{{cardString}}.svg" class="player-card"/>
        </div>
    </div>
    <div id="mainPotTemplate" style="display: none;">
        <span>Pot:</span> <div class="balance">&euro;{{amount}}</div>
    </div>
    <div id="myPlayerSeatTemplate" style="display:none;">
        <div class="action-amount balance">

        </div>
        <div class="cards-container">

        </div>
        <div class="action-text">

        </div>
        <div class="hand-strength">

        </div>
    </div>

</body>
</html>